(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1663e1c8"],{"09f4":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),Math.easeInOutQuad=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(t,e,a){var r=s(),l=t-r,i=20,u=0;e="undefined"===typeof e?500:e;var c=function t(){u+=i;var s=Math.easeInOutQuad(u,r,l,e);o(s),u<e?n(t):a&&"function"===typeof a&&a()};c()}},"147e":function(t,e,a){"use strict";var n=a("b330"),o=a.n(n);o.a},"397b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-row",{staticStyle:{height:"40px","margin-top":"30px",width:"100%","margin-left":"10px"}},[a("el-col",{attrs:{span:16}},[a("el-radio-group",{on:{change:t.ChangeTimeValue},model:{value:t.optionHours,callback:function(e){t.optionHours=e},expression:"optionHours"}},[a("el-radio",{attrs:{label:"12",border:"",size:"small"}},[t._v("过去12h")]),a("el-radio",{attrs:{label:"24",border:"",size:"small"}},[t._v("过去1天")]),a("el-radio",{attrs:{label:"168",border:"",size:"small"}},[t._v("过去1周")]),a("el-radio",{attrs:{label:"720",border:"",size:"small"}},[t._v("过去1月")])],1),a("el-date-picker",{attrs:{size:"small","value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}})],1),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{size:"medium",round:""},on:{click:t.exportData}},[t._v("导出数据")]),a("el-button",{attrs:{size:"medium",round:""},on:{click:t.GoBack}},[t._v("返回")]),a("el-select",{attrs:{placeholder:"请选择网关"},on:{change:t.ChangeGatewayName},model:{value:t.gateway,callback:function(e){t.gateway=e},expression:"gateway"}},t._l(t.options,(function(t){return a("el-option",{key:t.gatewayName,attrs:{label:t.gatewayName,value:t}})})),1)],1)],1),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table}},[a("el-table-column",{staticClass:"index-text",attrs:{label:"序号",type:"index",width:"80"}}),a("el-table-column",{attrs:{label:"空气温度(℃)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["空气温度"].value))]),a("span",[t._v("("+t._s(e.row["空气温度"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"空气湿度(%)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["空气湿度"].value))]),a("span",[t._v("("+t._s(e.row["空气湿度"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"气压(hPa)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["气压"].value))]),a("span",[t._v("("+t._s(e.row["气压"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"光照强度(Lux)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["光照强度"].value))]),a("span",[t._v("("+t._s(e.row["光照强度"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"风向()",width:"146"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["风向"].value))]),a("span",[t._v("("+t._s(e.row["风向"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"风速(m/s)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["风速"].value))]),a("span",[t._v("("+t._s(e.row["风速"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"降雨量(mm/min)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["雨量"].value))]),a("span",[t._v("("+t._s(e.row["雨量"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"土壤湿度(%)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["土壤湿度"].value))]),a("span",[t._v("("+t._s(e.row["土壤湿度"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"土壤温度(℃)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["土壤温度"].value))]),a("span",[t._v("("+t._s(e.row["土壤温度"].dataTime)+")")])]}}])}),a("el-table-column",{attrs:{label:"土壤导电率(us/cm)",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text"},[t._v(t._s(e.row["土壤水分"].value))]),a("span",[t._v("("+t._s(e.row["土壤水分"].dataTime)+")")])]}}])})],1),a("div",{staticClass:"pages"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)],1)],1)},o=[],s=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("669c")),r=a("333d"),l={components:{Pagination:r["a"]},data:function(){return{host:this.$store.state.host,total:0,regionName:"",optionHours:"12",data:"",gateway:"",options:[],table:[],listQuery:{page:1,limit:10,title:void 0,province:void 0,city:void 0,area:void 0}}},mounted:function(){},created:function(){var t=this;this.regionName=this.$route.params.RegionName,Object(s["f"])(this.regionName).then((function(e){t.options=e.data,t.gateway=t.options[0];var a={hours:t.optionHours,gatewayAddress:t.gateway.gatewayAddress,limit:"10",page:"1"};Object(s["h"])(a).then((function(e){console.log(e),t.total=e.data.pages;for(var a=[],n=0;n<e.data.records.雨量.length;n++)a[n]={},t.$set(a[n],"空气湿度",e.data.records.空气湿度[n]),t.$set(a[n],"空气温度",e.data.records.空气温度[n]),t.$set(a[n],"风速",e.data.records.风速[n]),t.$set(a[n],"风向",e.data.records.风向[n]),t.$set(a[n],"光照强度",e.data.records.光照强度[n]),t.$set(a[n],"土壤温度",e.data.records.土壤温度[n]),t.$set(a[n],"土壤湿度",e.data.records.土壤湿度[n]),t.$set(a[n],"土壤水分",e.data.records.土壤水分[n]),t.$set(a[n],"雨量",e.data.records.雨量[n]),t.$set(a[n],"露点",e.data.records.露点[n]),t.$set(a[n],"气压",e.data.records.气压[n]);t.table=a,console.log(t.table)}))}))},methods:{exportData:function(){console.log("this is exportData");var t={gatewayAddress:this.gateway.gatewayAddress,hours:"1"};Object(s["d"])(t).then((function(t){var e=new Blob([t.data]),a=document.createElement("a"),n=window.URL.createObjectURL(e);a.href=n,a.download="历史数据.xlsx",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}))},GoBack:function(){this.$router.go(-1)},ChangeGatewayName:function(){console.log("this is changegatewayname")},ChangeTimeValue:function(){console.log("this is change value")},getList:function(){console.log("this is page")}}},i=l,u=(a("147e"),a("2877")),c=Object(u["a"])(i,n,o,!1,null,null,null);e["default"]=c.exports},"669c":function(t,e,a){"use strict";a.d(e,"l",(function(){return o})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return l})),a.d(e,"m",(function(){return i})),a.d(e,"n",(function(){return u})),a.d(e,"e",(function(){return c})),a.d(e,"k",(function(){return d})),a.d(e,"f",(function(){return m})),a.d(e,"g",(function(){return p})),a.d(e,"h",(function(){return f})),a.d(e,"j",(function(){return b})),a.d(e,"i",(function(){return g})),a.d(e,"d",(function(){return w}));a("99af");var n=a("b775");function o(t){return""==t.baseName?Object(n["a"])({url:"/sensor/page?sensorName=".concat(t.sensorName,"&limit=").concat(t.limit,"&page=").concat(t.page),method:"get"}):""!=t.baseName?Object(n["a"])({url:"/sensor/page?sensorName=".concat(t.sensorName,"&baseName=").concat(t.baseName,"&limit=").concat(t.limit,"&page=").concat(t.page),method:"get"}):void 0}function s(t){return Object(n["a"])({url:"/sensor/insert",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/sensor/deleteOne/".concat(t.sensorId),method:"post"})}function l(t){return Object(n["a"])({url:"/sensor/deleteList?ids%5B%5D=".concat(t.item),method:"post"})}function i(t){return Object(n["a"])({url:"/sensor/update",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/sensor/uploadFile",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function c(){return Object(n["a"])({url:"/sensorData/indexSensorData",method:"get"})}function d(t){return Object(n["a"])({url:"/sensorData/getRegionById",method:"get",params:{id:t.Id,role:t.role}})}function m(t){return Object(n["a"])({url:"/sensorData/getGatewayByRegion/".concat(t),method:"get"})}function p(t){return Object(n["a"])({url:"/sensorData/getOneNowGatewayDate/".concat(t),method:"get"})}function f(t){return Object(n["a"])({url:"/sensorData/getGatewayDataByHours",method:"get",params:{hours:t.hours,gatewayAddress:t.gatewayAddress,limit:t.limit,page:t.page}})}function b(t){return Object(n["a"])({url:"/sensorData/getSensorDataByHours",method:"get",params:{hours:t.hours,gatewayAddress:t.gatewayAddress,sensorName:t.sensorName}})}function g(t){return Object(n["a"])({url:"/sensorData/getOneSensorHistoryData",method:"get",params:{endTime:t.endTime,startTime:t.startTime,gatewayAddress:t.gatewayAddress,sensorName:t.sensorName}})}function w(t){return Object(n["a"])({url:"/sensorData/exportGatewayDataByHours",method:"get",responseType:"blob",params:t})}},b330:function(t,e,a){}}]);