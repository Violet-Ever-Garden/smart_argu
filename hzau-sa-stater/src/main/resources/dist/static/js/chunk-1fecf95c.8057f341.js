(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fecf95c"],{"460f":function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("div",{staticClass:"header"},[n("div",{staticClass:"left"},[n("el-select",{staticStyle:{"margin-right":"2%"},attrs:{placeholder:"请选择"},on:{change:t.select},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("el-input",{staticStyle:{"margin-right":"2%"},attrs:{placeholder:"请输入关键字"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),n("el-button",{attrs:{size:"medium"},on:{click:t.search}},[t._v("搜索")])],1),n("div",{staticClass:"right"},["student"!=t.role?n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-setting"},on:{click:t.adminAction}},[t._v("措施管理")]):n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-setting"},on:{click:t.studentAction}},[t._v("措施管理")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:"student"!=t.role,expression:"role!='student'"}],attrs:{type:"primary",size:"small",icon:"el-icon-data-analysis"},on:{click:t.statistic}},[t._v("统计分析")])],1)]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"content"},t._l(t.crop,(function(e,c){return n("div",{key:c,staticClass:"card",on:{click:function(n){return n.preventDefault(),t.enterCard(e.cropId,e.cropName)}}},[n("div",{staticStyle:{width:"100%"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"student"!=t.role,expression:"role!='student'"}],staticClass:"top"},[n("el-checkbox",{nativeOn:{click:function(e){return e.stopPropagation(),t.check(e)}},model:{value:t.checked[c],callback:function(e){t.$set(t.checked,c,e)},expression:"checked[index]"}})],1)]),n("div",{staticClass:"middle"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:e.url}})])]),n("div",{staticClass:"foot"},[t._v(t._s(e.cropName))])])})),0)])},o=[],i=n("8f7b"),r=(n("c24f"),{name:"Trainningindex",data:function(){return{role:"",options:[{value:"",label:"全部作物"}],value:"",input:"",crop:[],checked:[],listLoading:!0}},created:function(){var t=this;this.role=this.$store.getters.roles[0],console.log(this.role),Object(i["i"])().then((function(e){t.crop=e.data,t.listLoading=!1;for(var n=0;n<t.crop.length;n++)t.options.push({value:"".concat(t.crop[n].cropName),label:"".concat(t.crop[n].cropName)}),t.checked[n]=!1}))},methods:{adminAction:function(){console.log("管理员进入措施管理页面"),this.$router.push("/trainning/index/manage")},studentAction:function(){console.log("学生进入措施管理页面"),this.$router.push("/trainning/studentManage")},enterCard:function(t,e){console.log("进入谷物详情页面"),this.$store.dispatch("user/setCrop",{cropName:e}),"student"!==this.role?this.$router.push("/trainning/cropdetail/".concat(t)):this.$router.push("/trainning/persondata/".concat(t,"/-1"))},statistic:function(){for(var t=[],e=0;e<this.checked.length;e++)this.checked[e]&&t.push(this.crop[e].cropId);t.length?this.$router.push("/trainning/statistic/".concat(t)):this.$message({type:"warning",message:"请至少选择一项!"})},check:function(){},getListwithUrl:function(t){var e=this;Object(i["i"])(t).then((function(t){e.crop=t.data,e.listLoading=!1;for(var n=0;n<e.crop.length;n++)e.options.push({value:"".concat(e.crop[n].cropName),label:"".concat(e.crop[n].cropName)}),e.checked[n]=!1}))},select:function(t){console.log(t);var e={cropName:t};this.listLoading=!0,this.getListwithUrl(e)},search:function(){var t={cropName:this.input};this.listLoading=!0,this.getListwithUrl(t)}}}),a=r,s=(n("e285"),n("2877")),l=Object(s["a"])(a,c,o,!1,null,"113092c4",null);e["default"]=l.exports},"8f7b":function(t,e,n){"use strict";n.d(e,"j",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"k",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"e",(function(){return h})),n.d(e,"b",(function(){return f}));n("99af");var c=n("b775");function o(t){return Object(c["a"])({url:"/crop/page?keyword=".concat(t.keyword,"&page=").concat(t.page,"&limit=").concat(t.limit),method:"get"})}function i(t){return Object(c["a"])({url:"/crop/listWithUrl?cropName=".concat(t.cropName),method:"get"})}function r(t){return Object(c["a"])({url:"/crop/save",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function a(t){return Object(c["a"])({url:"/crop/update",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function s(t){return Object(c["a"])({url:"/crop/delete/".concat(t.cropId),method:"post"})}function l(t){return Object(c["a"])({url:"/crop/deleteList?ids%5B%5D=".concat(t.item),method:"post"})}function u(){return Object(c["a"])({url:"/crop/listWithUrl",method:"get"})}function d(t){return Object(c["a"])({url:"/cropParameter/page",method:"get",params:t})}function p(t){return Object(c["a"])({url:"/cropProperty/list/".concat(t.cropId),method:"get"})}function h(t){return Object(c["a"])({url:"/cropGrowthPeriod/list/".concat(t.cropId),method:"get"})}function f(t){return Object(c["a"])({url:"/dataReport/save",method:"post",data:t})}},e285:function(t,e,n){"use strict";var c=n("ecd7"),o=n.n(c);o.a},ecd7:function(t,e,n){}}]);