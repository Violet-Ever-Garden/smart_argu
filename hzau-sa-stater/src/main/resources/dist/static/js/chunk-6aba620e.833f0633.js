(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aba620e"],{"06a5":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-row",{staticStyle:{height:"110px"},attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickAirTemperature(t)}}},[a("div",{staticClass:"features air-temperature"},[a("div",{staticClass:"features-title"},[e._v("空气温度")]),a("div",[a("span",{staticClass:"features-value"},[e._v("11 ")]),e._v("℃")])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickAirHumidity(t)}}},[a("div",{staticClass:"features air-humidity"},[a("div",{staticClass:"features-title"},[e._v("空气湿度")]),a("div",[a("span",{staticClass:"features-value"},[e._v("91.1")]),e._v("%")])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickAirPressure(t)}}},[a("div",{staticClass:"features air-pressure"},[a("div",{staticClass:"features-title"},[e._v("气压")]),a("div",[a("span",{staticClass:"features-value"},[e._v("100.6")]),e._v("Hpa")])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickLightIntensity(t)}}},[a("div",{staticClass:"features light-intensity"},[a("div",{staticClass:"features-title"},[e._v("光照强度")]),a("div",[a("span",{staticClass:"features-value"},[e._v("6346")]),e._v("Lux")])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickWindDirection(t)}}},[a("div",{staticClass:"features wind-direction"},[a("div",{staticClass:"features-title"},[e._v("风向")]),a("div",[a("span",{staticClass:"features-value"},[e._v("东风")])])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickWindSpeed(t)}}},[a("div",{staticClass:"features wind-speed"},[a("div",{staticClass:"features-title"},[e._v("风速")]),a("div",[a("span",{staticClass:"features-value"},[e._v("4.0")]),e._v("m/s")])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickRainFall(t)}}},[a("div",{staticClass:"features rainfall"},[a("div",{staticClass:"features-title"},[e._v("降雨量")]),a("div",[a("span",{staticClass:"features-value"},[e._v("0")]),e._v("mm/min")])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickSoilTemperature(t)}}},[a("div",{staticClass:"features soil-temperature"},[a("div",{staticClass:"features-title"},[e._v("土壤温度")]),a("div",[a("span",{staticClass:"features-value"},[e._v("18.6")]),e._v("℃")])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clicSoilMoisture(t)}}},[a("div",{staticClass:"features soil-moisture"},[a("div",{staticClass:"features-title"},[e._v("土壤湿度")]),a("div",[a("span",{staticClass:"features-value"},[e._v("18")]),e._v("%")])])]),a("div",{staticClass:"each-col",on:{click:function(t){return t.preventDefault(),e.clickSoilConductivity(t)}}},[a("div",{staticClass:"features soil-conductivity"},[a("div",{staticClass:"features-title"},[e._v("土壤导电")]),a("div",[a("span",{staticClass:"features-value"},[e._v("127")]),e._v("us/cm")])])])])],1),a("el-row",{staticStyle:{height:"40px","margin-top":"30px",width:"100%"}},[a("el-col",{attrs:{span:2}},[a("p",[e._v("请选择区域:")])]),a("el-col",{attrs:{span:4}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{placeholder:"请选择区域"},on:{change:e.ChangeValue1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options1,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{placeholder:"请选择网关"},on:{change:e.ChangeValue2},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.options2,(function(e){return a("el-option",{key:e.gatewayName,attrs:{label:e.gatewayName,value:e}})})),1)],1),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{size:"medium",round:""},on:{click:e.viewHistory}},[e._v("历史")]),a("el-button",{attrs:{size:"medium",round:""},on:{click:e.custom}},[e._v("自定义")])],1)],1),a("el-row",{staticStyle:{height:"40px","margin-top":"30px",width:"100%"}},[a("el-col",{attrs:{span:10}},[a("el-radio-group",{on:{change:e.ChangeTimeValue},model:{value:e.optionHours,callback:function(t){e.optionHours=t},expression:"optionHours"}},[a("el-radio",{attrs:{label:"12",border:"",size:"small"}},[e._v("过去12h")]),a("el-radio",{attrs:{label:"24",border:"",size:"small"}},[e._v("过去1天")]),a("el-radio",{attrs:{label:"168",border:"",size:"small"}},[e._v("过去1周")]),a("el-radio",{attrs:{label:"720",border:"",size:"small"}},[e._v("过去1月")])],1)],1),a("el-col",{attrs:{span:10}},[a("el-date-picker",{attrs:{size:"small","value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeTotime,callback:function(t){e.timeTotime=t},expression:"timeTotime"}})],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{size:"small"},on:{click:e.searchTime}},[a("i",{staticClass:"el-icon-search"})])],1)],1),a("el-row",[a("el-col",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"charts",span:24}})],1)],1)},n=[],i=a("669c"),r={data:function(){return{loading:!1,role:"",host:this.$store.state.host,optionHours:"12",sensorName:"",unitName:"",timeTotime:"",sensorData:[],options1:[],options2:[],value1:"",value2:"",data:[],date:[]}},mounted:function(){},created:function(){var e=this;this.role=this.$store.getters.roles[0];var t={Id:this.$store.getters.id,role:this.role};Object(i["k"])(t).then((function(t){e.options1=t.data,e.value1=e.options1[0],Object(i["f"])(e.value1).then((function(t){e.options2=t.data,e.value2=e.options2[0],setTimeout((function(){e.loading=!0,e.clickAirTemperature()}),0)}))})),Object(i["e"])().then((function(t){for(var a=0;a<t.data.length;a++)switch(t.data[a].sensorName){case"空气温度":e.sensorData.push(t.data[a]);break;case"空气湿度":e.sensorData.push(t.data[a]);break;case"气压":e.sensorData.push(t.data[a]);break;case"光照强度":e.sensorData.push(t.data[a]);break;case"风向":e.sensorData.push(t.data[a]);break;case"风速":e.sensorData.push(t.data[a]);break;case"雨量":e.sensorData.push(t.data[a]);break;case"土壤温度":e.sensorData.push(t.data[a]);break;case"土壤湿度":e.sensorData.push(t.data[a]);break;case"土壤水分":e.sensorData.push(t.data[a]);break;case"露点":e.sensorData.push(t.data[a])}console.log(t),console.log("this is sensordata",e.sensorData)}))},methods:{drawchart:function(e){var t=window.echarts.init(document.getElementById("charts")),a={grid:{left:60,right:60},tooltip:{},xAxis:{type:"category",boundaryGap:!1,data:this.date},yAxis:{type:"value",name:e,boundaryGap:[0,"100%"],axisLabel:{formatter:"{value}"}},series:[{name:"模拟数据",type:"line",smooth:!0,symbol:"none",sampling:"average",itemStyle:{color:"#188df0"},areaStyle:{color:new window.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},data:this.data}]};t.setOption(a)},changeSensor:function(e){for(var t=document.getElementsByClassName("each-col"),a=document.getElementsByClassName("features-value"),s=0;s<t.length;s++)t[s].className="each-col",a[s].className="features-value";t[e].className="each-col each-col-acitive",a[e].className="features-value features-value-active"},ChangeValue1:function(){var e=this;Object(i["f"])(this.value1).then((function(t){e.options2=t.data}))},ChangeValue2:function(){var e=this,t=this.value2.gatewayAddress,a={hours:this.optionHours,gatewayAddress:this.value2.gatewayAddress,sensorName:this.sensorName};Object(i["j"])(a).then((function(e){console.log(e)})),Object(i["g"])(t).then((function(t){for(var a=0;a<t.data.length;a++)switch(t.data[a].sensorName){case"空气温度":e.sensorData[0]=t.data[a];break;case"空气湿度":e.sensorData[1]=t.data[a];break;case"气压":e.sensorData[2]=t.data[a];break;case"光照强度":e.sensorData[3]=t.data[a];break;case"风向":e.sensorData[4]=t.data[a];break;case"风速":e.sensorData[5]=t.data[a];break;case"降雨量":e.sensorData[6]=t.data[a];break;case"土壤温度":e.sensorData[7]=t.data[a];break;case"土壤湿度":e.sensorData[8]=t.data[a];break;case"土壤导电":e.sensorData[9]=t.data[a];break;case"土壤水分":e.sensorData[10]=t.data[a]}}))},clickAirTemperature:function(){this.changeSensor(0),this.sensorName="空气温度",this.unitName="空气温度(℃)",this.drawData("空气温度","空气温度(℃)")},clickAirHumidity:function(){this.changeSensor(1),this.sensorName="空气湿度",this.unitName="空气湿度(%)",this.drawData("空气湿度","空气湿度(%)")},clickAirPressure:function(){this.changeSensor(2),this.sensorName="气压",this.unitName="气压(hPa)",this.drawData("气压","气压(hPa)")},clickLightIntensity:function(){this.changeSensor(3),this.sensorName="光照强度",this.unitName="光照强度(Lux)",this.drawData("光照强度","光照强度(Lux)")},clickWindDirection:function(){this.changeSensor(4),this.sensorName="风向",this.unitName="风向()",this.drawData("风向","风向()")},clickWindSpeed:function(){this.changeSensor(5),this.sensorName="风速",this.unitName="风速(m/s)",this.drawData("风速","风速(m/s)")},clickRainFall:function(){this.changeSensor(6),this.sensorName="雨量",this.unitName="降雨量(mm/min)",this.drawData("雨量","降雨量(mm/min)")},clickSoilTemperature:function(){this.changeSensor(7),this.sensorName="土壤温度",this.unitName="土壤温度(℃)",this.drawData("土壤温度","土壤温度(℃)")},clicSoilMoisture:function(){this.changeSensor(8),this.sensorName="土壤湿度",this.unitName="土壤湿度(%)",this.drawData("土壤湿度","土壤湿度(%)")},clickSoilConductivity:function(){this.changeSensor(9),this.sensorName="土壤水分",this.unitName="土壤导电率(us/cm)",this.drawData("土壤水分","土壤导电率(us/cm)")},ChangeTimeValue:function(){this.drawData(this.sensorName,this.unitName)},viewHistory:function(){console.log("this is history"),this.$router.push("/atmWatch/history/".concat(this.value1))},custom:function(){console.log("this is custom"),console.log(this.value2)},searchTime:function(){var e=this,t={endTime:"2020-09-11 16:00:00",startTime:"2020-09-11 12:00:00",gatewayAddress:this.value2.gatewayAddress,sensorName:this.sensorName};Object(i["i"])(t).then((function(t){console.log(t),e.data=[],e.date=[];for(var a=0;a<t.data.length;a++)e.data.push(t.data[a].value),e.date.push(t.data[a].dataTime);e.drawchart(e.unitName)})),console.log(t)},drawData:function(e,t){var a=this,s={hours:this.optionHours,gatewayAddress:this.value2.gatewayAddress,sensorName:e};console.log(s),Object(i["j"])(s).then((function(e){a.data=[],a.date=[];for(var s=0;s<e.data.length;s++)a.data.push(e.data[s].value),a.date.push(e.data[s].dataTime);a.drawchart(t)}))}}},o=r,c=(a("fdf7"),a("2877")),l=Object(c["a"])(o,s,n,!1,null,null,null);t["default"]=l.exports},"0f56":function(e,t,a){},"669c":function(e,t,a){"use strict";a.d(t,"l",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"m",(function(){return c})),a.d(t,"n",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"k",(function(){return d})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return m})),a.d(t,"h",(function(){return v})),a.d(t,"j",(function(){return f})),a.d(t,"i",(function(){return p})),a.d(t,"d",(function(){return g}));a("99af");var s=a("b775");function n(e){return""==e.baseName?Object(s["a"])({url:"/sensor/page?sensorName=".concat(e.sensorName,"&limit=").concat(e.limit,"&page=").concat(e.page),method:"get"}):""!=e.baseName?Object(s["a"])({url:"/sensor/page?sensorName=".concat(e.sensorName,"&baseName=").concat(e.baseName,"&limit=").concat(e.limit,"&page=").concat(e.page),method:"get"}):void 0}function i(e){return Object(s["a"])({url:"/sensor/insert",method:"post",data:e})}function r(e){return Object(s["a"])({url:"/sensor/deleteOne/".concat(e.sensorId),method:"post"})}function o(e){return Object(s["a"])({url:"/sensor/deleteList?ids%5B%5D=".concat(e.item),method:"post"})}function c(e){return Object(s["a"])({url:"/sensor/update",method:"post",data:e})}function l(e){return Object(s["a"])({url:"/sensor/uploadFile",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function u(){return Object(s["a"])({url:"/sensorData/indexSensorData",method:"get"})}function d(e){return Object(s["a"])({url:"/sensorData/getRegionById",method:"get",params:{id:e.Id,role:e.role}})}function h(e){return Object(s["a"])({url:"/sensorData/getGatewayByRegion/".concat(e),method:"get"})}function m(e){return Object(s["a"])({url:"/sensorData/getOneNowGatewayDate/".concat(e),method:"get"})}function v(e){return Object(s["a"])({url:"/sensorData/getGatewayDataByHours",method:"get",params:{hours:e.hours,gatewayAddress:e.gatewayAddress,limit:e.limit,page:e.page}})}function f(e){return Object(s["a"])({url:"/sensorData/getSensorDataByHours",method:"get",params:{hours:e.hours,gatewayAddress:e.gatewayAddress,sensorName:e.sensorName}})}function p(e){return Object(s["a"])({url:"/sensorData/getOneSensorHistoryData",method:"get",params:{endTime:e.endTime,startTime:e.startTime,gatewayAddress:e.gatewayAddress,sensorName:e.sensorName}})}function g(e){return Object(s["a"])({url:"/sensorData/exportGatewayDataByHours",method:"get",responseType:"blob",params:e})}},fdf7:function(e,t,a){"use strict";var s=a("0f56"),n=a.n(s);n.a}}]);