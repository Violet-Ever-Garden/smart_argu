(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58ab978b"],{"1c31":function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return u}));n("99af"),n("a15b"),n("d81d");var a=n("b775");function r(t){return Object(a["a"])({url:"/trainingReport/page",method:"get",params:{cropId:t.cropId,studentId:t.studentId,limit:"10",page:"1",reviewStatus:t.reviewStatus,trainingReportName:t.trainingReportName,endTime:t.endTime,startTime:t.startTime}})}function o(t){return Object(a["a"])({url:"/trainingReport/teachertView",method:"get",params:{trainingReportId:t.trainingReportId}})}function i(t,e){return Object(a["a"])({url:"/trainingReport/addTrainingReport",method:"post",params:{studentId:e.studentId,batch:e.batch,cropId:e.cropId,trainingReportName:e.trainingReportName},data:t})}function l(t){return Object(a["a"])({url:"/trainingReport/studentView",method:"get",params:{trainingReportId:t.trainingReportId}})}function s(t){return Object(a["a"])({url:"/trainingReport/exportReport",method:"get",responseType:"blob",params:t,paramsSerializer:function(e){var n=e.classIds.map((function(t){return"classIds%5B%5D=".concat(t)})).join("&");return"".concat(n,"&cropId=").concat(t.cropId,"&teacherId=").concat(t.teacherId)}})}function c(t){return Object(a["a"])({url:"/trainingReport/deleteTrainingReport",method:"post",params:{trainingReportId:t.trainingReportId}})}function d(t){return Object(a["a"])({url:"/trainingReport/deleteTrainingReports",method:"post",params:{trainingReportIds:t}})}function u(t){return Object(a["a"])({url:"/trainingReport/changeReportByTeacher",method:"post",params:{comments:t.comments,score:t.score,trainingReportId:t.trainingReportId}})}},"4c32":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"persondata"},[n("div",{staticClass:"line"},[n("span",[t._v("|")]),n("span",[t._v(t._s(t.cropName))])]),n("div",{staticClass:"header"},[n("div",{staticClass:"left"},[n("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间"},model:{value:t.startvalue,callback:function(e){t.startvalue=e},expression:"startvalue"}}),n("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间"},model:{value:t.endvalue,callback:function(e){t.endvalue=e},expression:"endvalue"}}),n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.ChangeValue},model:{value:t.reviewStatus,callback:function(e){t.reviewStatus=e},expression:"reviewStatus"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入实训报告名称"},model:{value:t.inputName,callback:function(e){t.inputName=e},expression:"inputName"}}),n("el-button",{attrs:{size:"medium"},on:{click:function(e){return t.handleSearch(t.inputName)}}},[t._v("搜索")])],1),n("div",{staticClass:"right"},[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:t.handledelete}},[t._v("删除")]),n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-left"},on:{click:t.goback}},[t._v("返回")])],1)]),n("div",{staticClass:"content"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"77"}}),n("el-table-column",{attrs:{label:"序号",width:"130",type:"index",index:t.indexNumber}}),n("el-table-column",{attrs:{prop:"trainingReportName",label:"实训报告名称",width:"130"}}),n("el-table-column",{attrs:{prop:"studentName",label:"提交人",width:"120"}}),n("el-table-column",{attrs:{prop:"gradeName",label:"年级",width:"120","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"className",label:"班级",width:"120","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"score",label:"得分",width:"120","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"reviewStatus",label:"评阅状态",width:"130","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"batch",label:"批次",width:"130","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"createTime",label:"提交时间",width:"200","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.handleLook(e.$index,e.row)}}},[t._v("查看")]),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handlecheckout(e.$index,e.row)}}},[t._v("批阅")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handledeleteOne(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)])},r=[],o=(n("fb6a"),n("1c31")),i={name:"Persondata",data:function(){return{cropId:"",cropName:"",sutdentId:"",role:"",inputName:"",reviewStatus:"",startvalue:"",endvalue:"",tableData:[],multipleSelection:[],options:[{value:"",label:"全部状态"},{value:"待评语",label:"待评语"},{value:"已评阅",label:"已评阅"}],dialogFormVisible:!1,form:{name:"",batch:"",fileList:[]},formLabelWidth:"120px",listLoading:!0}},created:function(){var t=this;this.cropId=this.$route.params.cropId,this.cropName=this.$store.getters.cropName,this.studentId=this.$route.params.studentId;var e={cropId:"17",studentId:"520"};Object(o["h"])(e).then((function(e){t.tableData=e.data.records,t.listLoading=!1})),this.role=this.$store.getters.roles[0],console.log(this.role)},methods:{goback:function(){this.$router.go(-1)},indexNumber:function(t){return t+1},newfetch:function(){var t=this;this.listLoading=!0,this.cropId=this.$route.params.cropId;var e={cropId:"17",studentId:"520"};Object(o["h"])(e).then((function(e){t.tableData=e.data.records,t.listLoading=!1}))},handleSelectionChange:function(t){this.multipleSelection=t},handleLook:function(t,e){this.$router.push("/trainning/lookReport/".concat(e.trainingReportId)),console.log(e)},addData:function(){},handledeleteOne:function(t,e){console.log(e.trainingReportId);var n={trainingReportId:e.trainingReportId};Object(o["d"])(n).then((function(t){console.log(t)})),this.newfetch()},handlecheckout:function(t,e){console.log(t,e),this.$router.push("/trainning/correctReport/".concat(e.trainingReportId))},handledelete:function(){console.log(this.cropId),console.log(this.multipleSelection)},handleChange:function(t,e){this.form.fileList=e.slice(-3)},handleSearch:function(t){var e=this;this.listLoading=!0;var n={cropId:"17",studentId:"520",endTime:this.endvalue,startTime:this.startvalue,reviewStatus:this.reviewStatus,trainingReportName:this.inputName};""==n.endTime&&delete n.endTime,""==n.startTime&&delete n.startTime,""==n.reviewStatus&&delete n.reviewStatus,""==n.trainingReportName&&delete n.trainingReportName,console.log(this.reviewStatus),Object(o["h"])(n).then((function(t){e.tableData=t.data.records,e.listLoading=!1,console.log(t)}))},ChangeValue:function(){var t=this;this.listLoading=!0;var e={cropId:"17",studentId:"520",reviewStatus:this.reviewStatus};console.log(this.reviewStatus),Object(o["h"])(e).then((function(e){t.tableData=e.data.records,t.listLoading=!1,console.log(e)}))}}},l=i,s=(n("6fb2"),n("2877")),c=Object(s["a"])(l,a,r,!1,null,"147c0e78",null);e["default"]=c.exports},"5f39":function(t,e,n){},"6fb2":function(t,e,n){"use strict";var a=n("5f39"),r=n.n(a);r.a}}]);