<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="hzau.sa.backstage.dao.AsClassfieldDao">

    <select id="queryFieldIdsByClassId" resultType="java.lang.String">
        SELECT DISTINCT field1.fieldName FROM field field1
        LEFT JOIN as_classfield field2 ON field1.fieldId = field2.fieldId
        WHERE field2.fieldId = ANY (
            SELECT fieldId FROM as_classfield
            WHERE classId = #{classId}
        )
    </select>
    <select id="queryFieldIdByName" resultType="java.lang.Integer">
        SELECT fieldId FROM field
        WHERE fieldName = #{fieldName}
    </select>
</mapper>